@using UserMng.Core.ViewModels.PanelAdmin
@model UserMng.Core.ViewModels.PanelAdmin.EditUser


@{
    Layout = "_AdminLayout";
    ViewData["Title"] = "ویرایش کاربر";
    var ModelRoles = ViewData["RolesData"] as List<RoleModel>;
}


<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">ویرایش کاربر @Model.UserName</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>


<div class="row">

    <form id="CreateUserFrm" method="post">
        <div class="col-md-6">
            <div class="panel panel-warning">
                <div class="panel-heading">
                    اطلاعات کاربر
                </div>
                <div class="panel-body">
                    <div class="form-group">
                        <label>تام کاربری</label>
                        <input asp-for="Id" type="hidden">
                        <input asp-for="UserName" class="form-control text-center">
                    </div>
                    <div class="form-group">
                        <label>ایمیل</label>
                        <input type="email" asp-for="Email" class="form-control text-center">
                    </div>
                    <div class="form-group">
                        <button  type="button" onclick="SendForm('/Admin/User/EditUser','CreateUserFrm')" class="form-control btn btn-success">ثبت شود</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="panel panel-info">
                <div class="panel-heading">
                    نقش های کاربر
                </div>
                <div class="panel-body">


                    <div class="form-group">
                        <label>نقش ها</label>
                        @foreach (var item in ModelRoles)
                        {
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox"  name="Roles" id="Roles" value="@item.RoleId" @((Model.Roles.Any(e=>e==item.RoleId)?"checked":""))/>@item.RoleName
                                </label>
                            </div>
                        }
                    </div>



                </div>
            </div>
        </div>

    </form>

</div>

<script>

    function GotoList() {
    
        window.location.href = "/Admin/User/Index";
    }

</script>